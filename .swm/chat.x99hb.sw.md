---
id: x99hb
title: Chat
file_version: 1.1.2
app_version: 1.10.3
---

these are the use states that I am using for chat and setting the message
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/Chat.js
```javascript
4      const Chat = ({ chat, setChat, userData }) => {
5        const [messages, setMessages] = useState("");
```

<br/>

This code will handle chat useState which will store whatever messages come into the stream
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/Chat.js
```javascript
11         e.preventDefault();
12         if (messages === "") {
13           return;
14         }
15         client.say("sinsofaninja", messages);
16         setMessages("");
17       };
18     
19       const clearChat = () => {
20         setChat([]);
21         localStorage.setItem("chat", JSON.stringify([]));
22       };
23     
24       return (
25         <div>
26           <div className="chatWindow">
27             {chat.map((msg, index) => (
28               <div key={index}>
29                 <strong style={{ color: msg.color }}>{msg.user}: </strong>
30                 <span>{msg.text}</span>
31               </div>
32             ))}
33           </div>
34           <form onSubmit={sendMessage} hidden={client.readyState() !== "OPEN"}>
35             <input
36               type="text"
37               placeholder="Type a message"
38               value={messages}
39               onChange={(e) => setMessages(e.target.value)}
40             />
41             <button type="submit">Send</button>
42             <button onClick={clearChat} type="button">
43               Clear
44             </button>
45           </form>
46         </div>
47       );
48     };
```

<br/>

First I created a way to save chat messages through local storage and then check if there is a saved chat to set the current chat to that saved one. client on message will then handle what messages come in and update the saved chat and current chat.

<br/>

This code handles sending messages to chat from the front end.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/Chat.js
```javascript
10       const sendMessage = (e) => {
11         e.preventDefault();
12         if (messages === "") {
13           return;
14         }
15         client.say("sinsofaninja", messages);
16         setMessages("");
17       };
```

<br/>

This code snip handles the messages being displayed from useState chat and sending messages using the sendMessage function.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/Chat.js
```javascript
25         <div>
26           <div className="chatWindow">
27             {chat.map((msg, index) => (
28               <div key={index}>
29                 <strong style={{ color: msg.color }}>{msg.user}: </strong>
30                 <span>{msg.text}</span>
31               </div>
32             ))}
33           </div>
34           <form onSubmit={sendMessage} hidden={client.readyState() !== "OPEN"}>
35             <input
36               type="text"
37               placeholder="Type a message"
38               value={messages}
39               onChange={(e) => setMessages(e.target.value)}
40             />
41             <button type="submit">Send</button>
42             <button onClick={clearChat} type="button">
43               Clear
44             </button>
45           </form>
46         </div>
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBdHdpdGNoLWJvdC1yZWFjdCUzQSUzQW1zYXdsYW5p/docs/x99hb).
