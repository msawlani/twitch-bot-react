---
id: x99hb
title: Chat
file_version: 1.1.2
app_version: 1.10.3
---

these are the use states that I am using for chat and setting the message
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/Chat.js
```javascript
4      const Chat = ({ chat, setChat }) => {
5        const [messages, setMessages] = useState("");
```

<br/>

This code will handle chat useState which will store whatever messages come into the stream
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/Chat.js
```javascript
10         e.preventDefault();
11         if (messages === "") {
12           return;
13         }
14         client.say("sinsofaninja", messages);
15         setMessages("");
16       };
17     
18       const clearChat = () => {
19         setChat([]);
20         localStorage.setItem("chat", JSON.stringify([]));
21       };
22     
23       return (
24         <div>
25           <div className="chatWindow">
26             {chat.map((msg, index) => (
27               <div key={index}>
28                 <strong style={{ color: msg.color }}>{msg.user}: </strong>
29                 <span>{msg.text}</span>
30               </div>
31             ))}
32           </div>
33           <form onSubmit={sendMessage}>
34             <input
35               type="text"
36               placeholder="Type a message"
37               value={messages}
38               onChange={(e) => setMessages(e.target.value)}
39             />
40             <button type="submit">Send</button>
41             <button onClick={clearChat} type="button">
42               Clear
43             </button>
44           </form>
45         </div>
46       );
47     };
```

<br/>

First I created a way to save chat messages through local storage and then check if there is a saved chat to set the current chat to that saved one. client on message will then handle what messages come in and update the saved chat and current chat.

<br/>

This code handles sending messages to chat from the front end.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/Chat.js
```javascript
34       const sendMessage = (e) => {
35         e.preventDefault();
36         if (messages === "") {
37           return;
38         }
39         client.say("sinsofaninja", messages);
40         setMessages("");
41       };
```

<br/>

This code snip handles the messages being displayed from useState chat and sending messages using the sendMessage function.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/Chat.js
```javascript
24         <div>
25           <div className="chatWindow">
26             {chat.map((msg, index) => (
27               <div key={index}>
28                 <strong style={{ color: msg.color }}>{msg.user}: </strong>
29                 <span>{msg.text}</span>
30               </div>
31             ))}
32           </div>
33           <form onSubmit={sendMessage}>
34             <input
35               type="text"
36               placeholder="Type a message"
37               value={messages}
38               onChange={(e) => setMessages(e.target.value)}
39             />
40             <button type="submit">Send</button>
41             <button onClick={clearChat} type="button">
42               Clear
43             </button>
44           </form>
45         </div>
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBdHdpdGNoLWJvdC1yZWFjdCUzQSUzQW1zYXdsYW5p/docs/x99hb).
